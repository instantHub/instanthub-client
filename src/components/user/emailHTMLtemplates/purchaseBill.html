<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Purchase Receipt</title>

    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px;
        background-color: #fff;
        color: #333;
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
        padding: 25px;
      }

      .logo {
        width: 120px;
        margin: 0 auto 10px;
        display: block;
      }

      .title {
        text-align: center;
        font-size: 22px;
        font-weight: bold;
        margin-bottom: 5px;
      }

      .subtitle {
        text-align: center;
        font-size: 14px;
        color: #555;
        margin-bottom: 20px;
      }

      .section {
        font-size: 13px;
        margin-bottom: 15px;
      }

      .section h4 {
        margin: 5px 0;
        font-size: 13px;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        font-size: 13px;
      }

      th,
      td {
        border: 1px solid #ddd;
        padding: 10px;
        vertical-align: top;
      }

      th {
        background-color: #f2f2f2;
        text-align: left;
      }

      .note {
        font-size: 12px;
        color: #777;
        margin: 5px 0;
      }

      .footer {
        text-align: center;
        margin-top: 30px;
        color: #555;
      }

      .footer p {
        margin: 4px 0;
      }

      .rights {
        text-align: center;
        font-size: 11px;
        color: #aaa;
        margin-top: 15px;
      }

      @media only screen and (max-width: 600px) {
        .container {
          padding: 15px;
        }
        table {
          font-size: 12px;
        }
        .title {
          font-size: 18px;
        }
        .logo {
          width: 90px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Logo -->
      <img
        src="https://api.instantpick.in/uploads/instanthub-logo.png"
        alt="Instant Hub"
        class="logo"
      />

      <!-- Titles -->
      <div class="title">Purchase Receipt</div>
      <div class="subtitle">
        Thank you for selling your product and trusting InstantHub.
      </div>

      <!-- Order Info -->
      <div class="section">
        <p><strong>Order #:</strong> ${updatedOrder.orderId}</p>
        <p>
          <strong>Website:</strong>
          <a href="https://instanthub.in">instanthub.in</a>
        </p>
      </div>

      <!-- Customer & Seller Info -->
      <div class="section">
        <h4><strong>Customer Name:</strong> ${updatedOrder.customerName}</h4>
        <h4><strong>Email:</strong> ${updatedOrder.email}</h4>
        <h4><strong>Phone:</strong> ${updatedOrder.phone}</h4>
        <h4>
          <strong>Address:</strong>
          ${updatedOrder.addressDetails.address},
          ${updatedOrder.addressDetails.city},
          ${updatedOrder.addressDetails.state} -
          ${updatedOrder.addressDetails.pinCode}
        </h4>
      </div>

      <div class="section">
        <h4>
          <strong>Pickup Agent:</strong> ${
          updatedOrder.pickedUpDetails.agentName }
        </h4>
        <h4>
          <strong>Pickup Time:</strong> ${
          updatedOrder.pickedUpDetails.pickedUpDate }
        </h4>
      </div>

      <!-- Product Table -->
      <table>
        <tr>
          <th>Product Details</th>
          <th>Price</th>
        </tr>
        <tr>
          <td>
            <p>
              <strong>${updatedOrder.productCategory}</strong> - ${
              updatedOrder.productName }
            </p>
            ${ updatedOrder.productCategory.toLowerCase().includes("mobile") ? `
            <p>${updatedOrder.variant.variantName}</p>
            ` : "" } ${ updatedOrder.deviceInfo?.serialNumber ? `
            <p>
              <strong>Serial No:</strong>
              ${updatedOrder.deviceInfo.serialNumber}
            </p>
            ` : "" } ${ updatedOrder.deviceInfo?.imeiNumber ? `
            <p>
              <strong>IMEI No:</strong> ${updatedOrder.deviceInfo.imeiNumber}
            </p>
            ` : "" }

            <div>${filteredDeductionsHTML(order)}</div>
          </td>

          <td>â‚¹ ${updatedOrder.finalPrice}</td>
        </tr>
      </table>

      <!-- Notes -->
      <p class="note">
        *This is a computer generated receipt. Signature not required.
      </p>
      <p class="note">
        Get in touch with us if you need any additional help:
        <a href="tel:8722288017">8722288017</a>
      </p>
      <p class="note">
        Your information is protected and secured, and it will be erased after
        use.
      </p>
      <p class="note">
        Visit us again at
        <a href="https://instanthub.in">instanthub.in</a>
      </p>

      <!-- Footer -->
      <div class="footer">
        <p>Thanks & Regards</p>
        <p><strong>InstantHub</strong></p>
      </div>

      <p class="rights">&copy; 2025 InstantHub. All rights reserved.</p>
    </div>
  </body>
</html>
